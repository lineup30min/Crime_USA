<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EDAV Crime: Is there any pattern in arrests by crime? - 2&nbsp; Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./results.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">EDAV Crime: Is there any pattern in arrests by crime?</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/thisisliulu/Crime_USA" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d3graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Interactive graph</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#technical-description" id="toc-technical-description" class="nav-link active" data-scroll-target="#technical-description"><span class="header-section-number">2.1</span> Technical description</a>
  <ul class="collapse">
  <li><a href="#reported-number-of-adult-arrests-by-crime" id="toc-reported-number-of-adult-arrests-by-crime" class="nav-link" data-scroll-target="#reported-number-of-adult-arrests-by-crime"><span class="header-section-number">2.1.1</span> Reported Number of Adult Arrests by Crime</a></li>
  <li><a href="#reported-number-of-juvenile-arrests-by-crime" id="toc-reported-number-of-juvenile-arrests-by-crime" class="nav-link" data-scroll-target="#reported-number-of-juvenile-arrests-by-crime"><span class="header-section-number">2.1.2</span> Reported Number of Juvenile Arrests by Crime</a></li>
  <li><a href="#hate-crime-2022" id="toc-hate-crime-2022" class="nav-link" data-scroll-target="#hate-crime-2022"><span class="header-section-number">2.1.3</span> Hate Crime 2022</a></li>
  </ul></li>
  <li><a href="#research-plan" id="toc-research-plan" class="nav-link" data-scroll-target="#research-plan"><span class="header-section-number">2.2</span> Research plan</a></li>
  <li><a href="#missing-value-analysis" id="toc-missing-value-analysis" class="nav-link" data-scroll-target="#missing-value-analysis"><span class="header-section-number">2.3</span> Missing value analysis</a>
  <ul class="collapse">
  <li><a href="#first-load-our-dataset" id="toc-first-load-our-dataset" class="nav-link" data-scroll-target="#first-load-our-dataset"><span class="header-section-number">2.3.1</span> First load our dataset:</a></li>
  <li><a href="#use-aggregated-missing-patterns-to-check-missing-values-in-each-dataset" id="toc-use-aggregated-missing-patterns-to-check-missing-values-in-each-dataset" class="nav-link" data-scroll-target="#use-aggregated-missing-patterns-to-check-missing-values-in-each-dataset"><span class="header-section-number">2.3.2</span> Use aggregated missing patterns to check missing values in each dataset:</a></li>
  <li><a href="#missing-value-imputation-and-column-drop" id="toc-missing-value-imputation-and-column-drop" class="nav-link" data-scroll-target="#missing-value-imputation-and-column-drop"><span class="header-section-number">2.3.3</span> Missing value imputation and column drop</a></li>
  <li><a href="#check-na-value" id="toc-check-na-value" class="nav-link" data-scroll-target="#check-na-value"><span class="header-section-number">2.3.4</span> Check NA value</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/thisisliulu/Crime_USA/edit/main/data.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/thisisliulu/Crime_USA/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="technical-description" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="technical-description"><span class="header-section-number">2.1</span> Technical description</h2>
<p>In our project, we leverage data sourced from the Federal Bureau of Investigation’s Crime Data Explorer (accessible at https://cde.ucr.cjis.gov/LATEST/webapp/#/pages/downloads), curated by Xinran She. Our focus is on analyzing the causes of arrests categorized by crime, with an emphasis on distinguishing between adult and juvenile arrests. To this end, we utilize three datasets: “Reported Number of Adult Arrests by Crime,” “Reported Number of Juvenile Arrests by Crime,” and “Hate Crime 2022”. These records are reliable because only data from agencies that provided arrest records for 12 months of the year can be included. Meanwhile, they are in CSV format, which can be directly imported and read in R, offering ease of access and compatibility for our subsequent data visualization efforts.</p>
<section id="reported-number-of-adult-arrests-by-crime" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="reported-number-of-adult-arrests-by-crime"><span class="header-section-number">2.1.1</span> Reported Number of Adult Arrests by Crime</h3>
<p>This dataset comprises data on the monthly count of adult arrests for a range of offenses, as reported by cooperating law enforcement agencies, spanning 1995 to 2016. The file was last modified in 2017 and is now completed. The dataset includes 644 rows and 47 columns. Each row of the data represents an offense reason based on a specific year, and the columns decompose the count of the arrested adults by age, race, and sex. The age range of offenders covered by this form is 18-65 years old. From the website, agencies might not provide race information, but age and sex should be clearly reported. So, some of the missing gender information may affect the subsequent visualization and analysis.</p>
</section>
<section id="reported-number-of-juvenile-arrests-by-crime" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="reported-number-of-juvenile-arrests-by-crime"><span class="header-section-number">2.1.2</span> Reported Number of Juvenile Arrests by Crime</h3>
<p>Similar to 2.1-1, this dataset records the monthly count of juvenile arrests for different offenses, as reported by participating law enforcement agencies from 1995 to 2016. The file was last modified in 2017 and is now completed. The dataset includes 690 rows and 27 columns. Each row of the data represents an offense reason based on a specific year, and the columns decompose the count of the arrested adults by age, race, and sex. The age range of offenders covered by this form is 9-17 years old. The potential problem with the data is the same as 2.1-1 due to the insufficiency of race information.</p>
</section>
<section id="hate-crime-2022" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="hate-crime-2022"><span class="header-section-number">2.1.3</span> Hate Crime 2022</h3>
<p>The hate crime dataset compiles annual data from 1991 to 2022, last updated in 2023, encompassing details on incidents, offenses, and involved individuals - both victims and offenders - in crimes driven by the perpetrator’s bias towards the victim’s race, gender, gender identity, religion, disability, sexual orientation, or ethnicity. Due to the extensive size of the original file, our analysis is concentrated on the data from 2022. This dataset segment contains 11,643 rows and 28 columns, each representing an individual incident and providing comprehensive incident details, including geographical location, numbers of victims and offenders, and the nature of the bias involved. A challenge presented by this dataset is its considerable size and the abundance of categorical data it contains. To effectively glean insights, engaging in data manipulation, compiling, and analyzing aggregate information is necessary.</p>
</section>
</section>
<section id="research-plan" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="research-plan"><span class="header-section-number">2.2</span> Research plan</h2>
<p>Based on the previous questions we proposed in <strong>introduction</strong> part, we’ve structured our investigation into three key stages: imputing missing values, manipulating and aggregating data, and conducting visualization and analysis.</p>
<p>Regarding our first research question, we plan to explore the relationship between identity factors like age, gender, or race, and crime arrests among juveniles and adults. To effectively depict these associations, we’ll employ various graphical representations. These will include basic bar charts for straightforward comparisons, stacked bars to illustrate the combined effects of multiple factors, and scatter plots to examine correlations or similarities between the two demographic groups. Meanwhile, we plan to use mosaic plots to visually represent data encompassing two or more qualitative variables, which is particularly effective for illustrating the relationships. For the second question, which seeks to identify the most prevalent motivations behind crimes, our approach will involve the use of simple bar charts. These charts will display the relative frequency of different offense types, offering a clear view of the most common factors leading to criminal activity.</p>
<p>For the third research question, focusing on the trends in arrest populations and the relationship within socio-economic factors. Line graphs will be our primary tool to depict the trends in arrest numbers over various years, with years plotted on the x-axis and arrest counts on the y-axis. To analyze the interplay between multiple socio-economic factors alongside these trends, we will use multi-line charts. These charts will simultaneously display how each socio-economic variable changes over the same period, allowing for a comprehensive comparison and correlation analysis.</p>
<p>Similarly for the fourth question, focusing on the highest hate crime state and with some specific bias type, we will utilize pie charts to effectively illustrate the proportion of each bias type. Additionally, for a more granular analysis of categories like location types, offender races, and bias types, treemaps will be employed as they offer a concise visual summary. For instance, in a treemap, each major section could represent a distinct bias type, further divided into sub-sections based on offender race or location type. This approach provides an intuitive and detailed view of the hate crime data, highlighting key patterns and distributions.</p>
</section>
<section id="missing-value-analysis" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="missing-value-analysis"><span class="header-section-number">2.3</span> Missing value analysis</h2>
<section id="first-load-our-dataset" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="first-load-our-dataset"><span class="header-section-number">2.3.1</span> First load our dataset:</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>arrest_juvenile <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"preprocessing/arrests_national_juvenile.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>arrest_adults <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"preprocessing/arrests_national_adults.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>hate_crime22 <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"preprocessing/hate_crime_2022.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="use-aggregated-missing-patterns-to-check-missing-values-in-each-dataset" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="use-aggregated-missing-patterns-to-check-missing-values-in-each-dataset"><span class="header-section-number">2.3.2</span> Use aggregated missing patterns to check missing values in each dataset:</h3>
<p><strong>Arrest_juvenile</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(redav)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(arrest_juvenile, <span class="at">percent =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="data_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<p>The column “state_abbr” (state abbreviation)is completely absent. Unfortunately, we couldn’t find other datasets which perfectly make up for the lack of state abbreviation. Since our main goal is not about discovering arrest crimes in specific states, we decide to drop “state_abbr” column. We have several missing values in “american_indian” and “asian_pacific_islander”, which are more likely to be missing due to “not all agencies report race and/or ethnicity for arrests” from the FBI. We also have missing values in “f_0_9”, f_0_12”, “m_0_9”, “f_13_14”, “f_15”, “m_10_12”, “f_16” in decreasing order. Even though “all agencies must report age and sex”, it is hard to implement in reality. By intuition, these omissions might stem from the actual absence of instances, given that the corresponding class values are zero. For example, in 2016, there is a missing value for males aged between 0 to 9 arrested for Embezzlement. Given the unlikely occurrence of embezzlement by children under 10, it is reasonable to impute it as 0. Since missing values are not correlated with other variables and take up only a small percent, we would impute 0 for the missing values in those columns.</p>
<p><strong>Arrest_adults</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(arrest_adults, <span class="at">percent =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="data_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<p>Similarly, the column “state_abbr” (state abbreviation)is entirely missing. This time, we have fewer columns with missing values, only “f_60_64”, f_65_p”, “f_55_59” in decreasing order. In other words, we can see missing values are concentrated in females aged between 55 to 65+. The interesting pattern might caused by certain oversight when reporting elderly women in the agencies. Or, it may be attributed to the likelihood that women aged above 55 are hardly prone to crimes, which is reasonable for us to interpret the corresponding class values as 0. Since missing values are not correlated with other variables and take up only a small percent, we would impute 0 for the missing values in those columns.</p>
<p><strong>Hate Crime</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(hate_crime22, <span class="at">percent =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="data_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" style="width:80.0%"></p>
</div>
</div>
<p>We have equal number of missing values in “adult_offender_count” and “juvenile_offender_count”. They are correlated because in each hate crime incident, agencies either report all the offenders, or they fail to report. The number of missing value of “juvenile_victim_count” is slightly higher than “adult_victim_count”. One of the possible explanation is that the agencies are more likely to protect the privacy of juvenile that they choose not to report in the reality. We also have missing values in “total_individual_victims”, given “total_individual_victims” is likely correlated with “juvenile_victim_count” and “adult_victim_count”. Since for <strong>Hate Crime</strong>, we are more interested in the “location, offender race and bias type” instead of the number of offenders and victims, we could subset the dataset to drop the columns with missing values.</p>
</section>
<section id="missing-value-imputation-and-column-drop" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="missing-value-imputation-and-column-drop"><span class="header-section-number">2.3.3</span> Missing value imputation and column drop</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop column</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>arrest_juvenile <span class="ot">&lt;-</span> <span class="fu">select</span>(arrest_juvenile, <span class="sc">-</span>state_abbr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imputation the missing value</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>arrest_juvenile[<span class="fu">is.na</span>(arrest_juvenile)] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>arrest_adults <span class="ot">&lt;-</span> <span class="fu">select</span>(arrest_adults, <span class="sc">-</span>state_abbr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># imputation the missing value</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>arrest_adults[<span class="fu">is.na</span>(arrest_adults)] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>hate_crime22 <span class="ot">&lt;-</span> <span class="fu">select</span>(hate_crime22, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">"adult_offender_count"</span>, <span class="st">"juvenile_offender_count"</span>, <span class="st">"juvenile_victim_count"</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">"adult_victim_count"</span>, <span class="st">"total_individual_victims"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="check-na-value" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="check-na-value"><span class="header-section-number">2.3.4</span> Check NA value</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>arrest_juvenile_null <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(arrest_juvenile))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"NA value in arrest_juvenile: "</span>, arrest_juvenile_null))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NA value in arrest_juvenile:  0"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>arrest_adults_null <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(arrest_adults))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"NA value in arrest_adults: "</span>, arrest_adults_null))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NA value in arrest_adults:  0"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>hate_crime_null <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(hate_crime22))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"NA value in hate_crime22: "</span>, hate_crime_null))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NA value in hate_crime22:  0"</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./results.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Results</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>